load("./A.RData")
Adata <- load("./A.RData")
View(nominal)
load("./B1.RData")
load("./A.RData")
load("./B2.RData")
View(nominal)
View(payment)
mean(nominal$Stocks)
mean(nominal$.)
mean(nominal)
apply(nominal, 2, mean)
apply(nominal[-1], 2, mean)
mean(nominal$Stocks)
apply(nominal[-1], 2, sd)
sd(nominal$Stocks)
apply(nominal[-1], 2, sd)
cor(nominal)
cor(nominal[-1])
cov(nominal[-1])
# 1. mean and sd
ERi <- apply(nominal[-1], 2, mean)
SDi <- apply(nominal[-1], 2, sd)
# 2. correlation
correlation <- cor(nominal[-1])
# 3. covariance
covariance <- cov(nominal[-1])
library(ggplot2)
ggplot()+
geom_point(x=SDi, y=ERi)
# 1. mean and sd
meanSD <- data.frame(
ERi = apply(nominal[-1], 2, mean),
SDi = apply(nominal[-1], 2, sd))
ggplot(data = meanSD)+
geom_point(aes(x=SDi, y=ERi))
n_portfolios <- 1000
set.seed(123)
portfolios <- matrix(nrow = n_portfolios, ncol = 5)
View(portfolios)
portfolios <- matrix(nrow = n_portfolios, ncol = 6)
weights <- runif(6)
n_portfolios <- 1000
set.seed(123)
portfolios <- matrix(nrow = n_portfolios, ncol = 6)
for (i in 1:n_portfolios){
weights <- runif(6)
weights <- weights/ sum(weights)
portfolios[i,] <- weights
}
View(portfolios)
portfolio_Rsd <- data.frame(
return = rowSums(meanSD$ERi*portfolios)
)
View(portfolio_Rsd)
portfolio_Rsd <- data.frame(
return = rowSums(meanSD$ERi*portfolios),
sd = sqrt(rowSums(portfolios * (cov_matrix %*% t(portfolios))))
)
portfolio_Rsd <- data.frame(
return = rowSums(meanSD$ERi*portfolios),
sd = sqrt(rowSums(portfolios * (covariance %*% t(portfolios))))
)
portfolio_Rsd <- data.frame(
return = rowSums(meanSD$ERi*portfolios),
sd = sqrt(rowSums(portfolios * (covariance %*% t(portfolios))))
)
View(covariance)
portfolio_Rsd <- data.frame(
return = rowSums(meanSD$ERi*portfolios)
)
View(covariance)
portfolio_Rsd <- data.frame(
return = rowSums(meanSD$ERi*portfolios),
sd =  sqrt(rowSums(portfolios * (covariance %*% t(portfolios))))
)
dim(covariance)
dim(portfolios)
dim(covariance)
dim(portfolios)
dim(t(portfolios))
dim(covariance)
dim(t(portfolios))
dim(covariance)
dim(t(portfolios))
dim(covariance)
dim(t(portfolios))
covariance %*% t(portfolios)
dim(covariance %*% t(portfolios))
dim(portfolios)
dim(covariance %*% t(portfolios))
portfolios*(covariance %*% t(portfolios))
portfolios%*%(covariance %*% t(portfolios))
portfolio_Rsd <- data.frame(
return = rowSums(meanSD$ERi*portfolios),
sd =  sqrt(rowSums(portfolios %*% (covariance %*% t(portfolios))))
)
ggplot(data = portfolio_Rsd)+
geom_point(aes(x=sd, y=return))
ggplot(portfolio_Rsd, aes(x = sd, y = return)) +
geom_point() +
labs(title = "Mean-Standard Deviation Frontier", x = "Standard Deviation (Risk)", y = "Expected Return")
p <- portfolio.spec(assets = colnames(nominal))
library(PortfolioAnalytics)
library(PortfolioAnalytics)
install.packages("PortfolioAnalytics")
library(PortfolioAnalytics)
p <- portfolio.spec(assets = colnames(nominal))
p <- add.constraint(p, type = "box", min = 0.05, max = 0.8)
p <- add.constraint(portfolio = p, type = "full_investment")
randomport<- random_portfolios(p, permutations = 50000, rp_method = "sample")
load("./A.RData")
load("./B1.RData")
load("./B2.RData")
# 1. mean and sd
meanSD <- data.frame(
ERi = apply(nominal[-1], 2, mean),
SDi = apply(nominal[-1], 2, sd))
# 2. correlation
correlation <- cor(nominal[-1])
# 3. covariance
covariance <- cov(nominal[-1])
View(B1)
MeanSD <- data.frame(
return = B1$mean,
sd = B1$sd
)
View(MeanSD)
names(MeanSD) <- c("short-term bonds", "medium-term bonds", "long-term
bonds", "Canadian equity", "US equity", "non-North American equity")
View(MeanSD)
rownames(MeanSD) <- c("short-term bonds", "medium-term bonds", "long-term
bonds", "Canadian equity", "US equity", "non-North American equity")
rownames(MeanSD) <- c("short-term bonds", "medium-term bonds", "long-term bonds", "Canadian equity", "US equity", "non-North American equity")
